!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self),b.parallelCoordinatesChart=a()}}(function(){return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);throw new Error("Cannot find module '"+g+"'")}var j=c[g]={exports:{}};b[g][0].call(j.exports,function(a){var c=b[g][1][a];return e(c?c:a)},j,j.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){function c(a,b){return d3.extent(b,function(b){return+b[a]})}a("./customEventPolyfill");var d=a("./interpolator"),e=a("./defaultColorScaleGenerator");b.exports=function(a){function b(a){l.margin("margin"in a?a.margin:[30,10,10,10]),l.width("width"in a?a.width:1560),"height"in a?l.height(a.height):l.width(500),l.domain("domain"in a?a.domain:c),l.highlight("highlight"in a?a.highlight:""),l.interpolator("interpolator"in a?a.interpolator:d),l.color("color"in a?a.color:e),"select"in a&&l.select(a.select)}function f(a){if(a){a.selectAll(".dimension.selected").classed("selected",!1),a.selectAll(".dimension").each(function(a){a===p&&d3.select(this).classed("selected",!0)});var b=a.selectAll("g.datalines path");if(!p)return b.style("stroke","");if(b&&b.length){var c=q(p,a.data()[0]);b.style("stroke",function(a){return c(a[p])})}}}function g(){return d3.behavior.drag().on("dragstart",function(a){y[a]=this.__origin__=w(a)}).on("drag",function(a){y[a]=Math.min(u,Math.max(0,this.__origin__+=d3.event.dx)),B.selectAll("g.datalines path").attr("d",k),s.sort(function(a,b){return j(a)-j(b)}),w.domain(s),B.selectAll("g.dimension").attr("transform",function(a){return"translate("+j(a)+")"})}).on("dragend",function(a){delete this.__origin__,delete y[a],d3.select(this).attr("transform","translate("+w(a)+")"),B.selectAll("g.datalines path").attr("d",k)})}function h(){d3.event.sourceEvent.stopPropagation()}function i(){var a=s.filter(function(a){return!x[a].brush.empty()}),b=a.map(function(a){return x[a].brush.extent()}),c=[];B.selectAll("g.datalines path").attr("class",function(d){var e=a.every(function(a,c){return b[c][0]<=d[a]&&d[a]<=b[c][1]});return e?(c.push(d),"active"):"filtered"});var d={};a.forEach(function(a,c){d[a]=b[c]});var e={element:z,selected:c,filters:d},f=new CustomEvent("changefilter",{detail:e});z.dispatchEvent(f)}function j(a){var b=y[a];return null==b?w(a):b}function k(a){return C(s.map(function(b){return[j(b),x[b](a[b])]}))}function l(a){y={},z=a.node(),A=a.datum(),s||(s=Object.keys(A[0])),w.domain(s),x={},s.forEach(function(a){x[a]=d3.scale.linear().range([v,0]).domain(r(a,A))}),B=a.selectAll("svg").data([A]).enter().append("svg").classed("parallel-coordinates-chart",!0).attr("width",n).attr("height",o);var b=B.append("g").attr("transform","translate("+m[3]+","+m[0]+")");b.append("g").classed("datalines",!0).selectAll("path").data(A).enter().append("path").attr("d",k);var c=b.selectAll(".dimension").data(s).enter().append("g").classed("dimension",!0).attr("transform",function(a){return"translate("+w(a)+")"}).call(g());return c.append("g").attr("class","axis").each(function(a){d3.select(this).call(D.scale(x[a]))}).append("text").attr("text-anchor","middle").attr("y",-9).text(String).on("click",function(a){d3.event.defaultPrevented||l.highlight(a===p?"":a)}),c.append("g").attr("class","brush").each(function(a){d3.select(this).call(x[a].brush=d3.svg.brush().y(x[a]).on("brushstart",h).on("brush",i))}).selectAll("rect").attr("x",-8).attr("width",16),l.highlight(p),l}var m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D=d3.svg.axis().orient("left");return l.width=function(a){return arguments.length?(n=a,u=n-m[1]-m[3],w=d3.scale.ordinal().rangePoints([0,u],1),l):n},l.height=function(a){return arguments.length?(o=a,v=o-m[0]-m[2],l):o},l.margin=function(a){return arguments.length?(m=a,l.width(n),l.height(o),l):m},l.select=function(a){return arguments.length?(s=a,l):s},l.domain=function(a){return arguments.length?(r=a,l):r},l.color=function(a){return arguments.length?(q=a,l):q},l.interpolator=function(a){return arguments.length?(t=a,C=d3.svg.line().interpolate(t),l):t},l.highlight=function(a){return arguments.length?(p=a,f(B),l):p},l.filter=function(a,b){if(0===arguments.length){var c={};return Object.keys(x).forEach(function(a){var b=x[a].brush.extent();b[0]!==b[1]&&(c[a]=x[a].brush.extent())}),c}if(1===arguments.length){if(b=x[a].brush.extent(),b[0]===b[1])return;return b}b||(b=[0,0]),B.selectAll(" .brush").filter(function(b){return b===a}).call(x[a].brush.extent(b)).call(i)},l.redraw=function(a){return B&&B.remove(),l(a),l},l.draw=function(a){return l(a),l},b(a||{}),l}},{"./customEventPolyfill":2,"./defaultColorScaleGenerator":3,"./interpolator":4}],2:[function(){!function(){function a(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent("CustomEvent");return c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail),c}a.prototype=window.Event.prototype,window.CustomEvent=a}()},{}],3:[function(a,b){b.exports=function(a,b){return d3.scale.linear().domain(d3.extent(b,function(b){return+b[a]})).range(["hsl(0, 60%, 50%)","hsl(255, 60%, 50%)"]).interpolate(d3.interpolateHsl)}},{}],4:[function(a,b){b.exports=function(a){for(var b,c="",d=[],e=0;e<a.length-1;e++)b=a[e],isNaN(b[1])?""!==c&&(c="M"):(d.push(c,b),c="L");return b=a[a.length-1],isNaN(b[1])||d.push(c,b),d.join("")}},{}]},{},[1])(1)});